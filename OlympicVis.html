<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
    <h3 style="padding-left: 50px;">Curved Vis</h3>
    <div id='my_chart'></div>
</body>
    <script type="text/javascript">
		var dataset;

		//Read the data
		d3.csv("line_tab.csv").then(function(data) {
			dataset = data;
			generateVisualization(dataset);
		});

		function generateVisualization(dataset){

            // format the data
            dataset.forEach(function(d) {
                d.l1x = parseFloat(d.l1x);
                d.l1y = parseFloat(d.l1y);
                d.l2x = parseFloat(d.l2x);
                d.l2y = parseFloat(d.l2y);
                d.l3x = parseFloat(d.l3x);
                d.l3y = parseFloat(d.l3y);
                d.l4x = parseFloat(d.l4x);
                d.l4y = parseFloat(d.l4y);
                d.l5x = parseFloat(d.l5x);
                d.l5y = parseFloat(d.l5y);
                d.l6x = parseFloat(d.l6x);
                d.l6y = parseFloat(d.l6y);
                d.l7x = parseFloat(d.l7x);
                d.l7y = parseFloat(d.l7y);
                d.l8x = parseFloat(d.l8x);
                d.l8y = parseFloat(d.l8y);
                d.l9x = parseFloat(d.l9x);
                d.l9y = parseFloat(d.l9y);
                d.l10x = parseFloat(d.l10x);
                d.l10y = parseFloat(d.l10y);
                d.l11x = parseFloat(d.l11x);
                d.l11y = parseFloat(d.l11y);
                d.l12x = parseFloat(d.l12x);
                d.l12y = parseFloat(d.l12y);
                d.l13x = parseFloat(d.l13x);
                d.l13y = parseFloat(d.l13y);
                d.l14x = parseFloat(d.l14x);
                d.l14y = parseFloat(d.l14y);
                d.l15x = parseFloat(d.l15x);
                d.l15y = parseFloat(d.l15y);
                d.l16x = parseFloat(d.l16x);
                d.l16y = parseFloat(d.l16y);
                d.l17x = parseFloat(d.l17x);
                d.l17y = parseFloat(d.l17y);
                d.l18x = parseFloat(d.l18x);
                d.l18y = parseFloat(d.l18y);
                d.l19x = parseFloat(d.l19x);
                d.l19y = parseFloat(d.l19y);
                d.l20x = parseFloat(d.l20x);
                d.l20y = parseFloat(d.l20y);
                d.l21x = parseFloat(d.l21x);
                d.l21y = parseFloat(d.l21y);
                d.l22x = parseFloat(d.l22x);
                d.l22y = parseFloat(d.l22y);
                d.l23x = parseFloat(d.l23x);
                d.l23y = parseFloat(d.l23y);
                d.l24x = parseFloat(d.l24x);
                d.l24y = parseFloat(d.l24y);
                d.l25x = parseFloat(d.l25x);
                d.l25y = parseFloat(d.l25y);
                d.l26x = parseFloat(d.l26x);
                d.l26y = parseFloat(d.l26y);
                d.l27x = parseFloat(d.l27x);
                d.l27y = parseFloat(d.l27y);
                d.l28x = parseFloat(d.l28x);
                d.l28y = parseFloat(d.l28y);
                d.l29x = parseFloat(d.l29x);
                d.l29y = parseFloat(d.l29y);
                d.l30x = parseFloat(d.l30x);
                d.l30y = parseFloat(d.l30y);

            });

		    // set the dimensions and margins of the graph
            var margin = {top: 20, right: 20, bottom: 30, left: 50},
            width = 960 - margin.left - margin.right,
            height = 960 - margin.top - margin.bottom;

            //Scales
            var x = d3.scaleLinear()
					    .domain([0, 2])
					    .range([0, width]);
			var y = d3.scaleLinear()
					    .domain([0, 2])
					    .range([0, height]);

            console.log(dataset)

            // define the 20 lines
            var line1 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l1x); })
                .x0(function(d) { return x(d.l2x); })
                .y(function(d) { return y(d.l1y); });
            var line2 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l2x); })
                .x0(function(d) { return x(d.l1x); })
                .y(function(d) { return y(d.l2y); });

            var line3 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l3x); })
                .x0(function(d) { return x(d.l4x); })
                .y(function(d) { return y(d.l3y); });
            var line4 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l4x); })
                .x0(function(d) { return x(d.l3x); })
                .y(function(d) { return y(d.l4y); });

            var line5 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l5x); })
                .x0(function(d) { return x(d.l6x); })
                .y(function(d) { return y(d.l5y); });
            var line6 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l6x); })
                .x0(function(d) { return x(d.l5x); })
                .y(function(d) { return y(d.l6y); });

            var line7 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l7x); })
                .x0(function(d) { return x(d.l8x); })
                .y(function(d) { return y(d.l7y); });
            var line8 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l8x); })
                .x0(function(d) { return x(d.l7x); })
                .y(function(d) { return y(d.l8y); });

            var line9 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l9x); })
                .x0(function(d) { return x(d.l10x); })
                .y(function(d) { return y(d.l9y); });
            var line10 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l10x); })
                .x0(function(d) { return x(d.l9x); })
                .y(function(d) { return y(d.l10y); });

            var line11 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l11x); })
                .x0(function(d) { return x(d.l12x); })
                .y(function(d) { return y(d.l11y); });
            var line12 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l12x); })
                .x0(function(d) { return x(d.l11x); })
                .y(function(d) { return y(d.l12y); });

            var line13 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l13x); })
                .x0(function(d) { return x(d.l14x); })
                .y(function(d) { return y(d.l13y); });
            var line14 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l14x); })
                .x0(function(d) { return x(d.l13x); })
                .y(function(d) { return y(d.l14y); });

            var line15 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l15x); })
                .x0(function(d) { return x(d.l16x); })
                .y(function(d) { return y(d.l15y); });
            var line16 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l16x); })
                .x0(function(d) { return x(d.l15x); })
                .y(function(d) { return y(d.l16y); });

            var line17 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l17x); })
                .x0(function(d) { return x(d.l18x); })
                .y(function(d) { return y(d.l17y); });
            var line18 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l18x); })
                .x0(function(d) { return x(d.l17x); })
                .y(function(d) { return y(d.l18y); });

            var line19 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l19x); })
                .x0(function(d) { return x(d.l20x); })
                .y(function(d) { return y(d.l19y); });
            var line20 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l20x); })
                .x0(function(d) { return x(d.l19x); })
                .y(function(d) { return y(d.l20y); });

            var line21 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l21x); })
                .x0(function(d) { return x(d.l22x); })
                .y(function(d) { return y(d.l21y); });
            var line22 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l22x); })
                .x0(function(d) { return x(d.l21x); })
                .y(function(d) { return y(d.l22y); });

            var line23 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l23x); })
                .x0(function(d) { return x(d.l24x); })
                .y(function(d) { return y(d.l23y); });
            var line24 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l24x); })
                .x0(function(d) { return x(d.l23x); })
                .y(function(d) { return y(d.l24y); });

            var line25 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l25x); })
                .x0(function(d) { return x(d.l26x); })
                .y(function(d) { return y(d.l25y); });
            var line26 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l26x); })
                .x0(function(d) { return x(d.l25x); })
                .y(function(d) { return y(d.l26y); });

            var line27 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l27x); })
                .x0(function(d) { return x(d.l28x); })
                .y(function(d) { return y(d.l27y); });
            var line28 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l28x); })
                .x0(function(d) { return x(d.l27x); })
                .y(function(d) { return y(d.l28y); });

            var line29 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l29x); })
                .x0(function(d) { return x(d.l30x); })
                .y(function(d) { return y(d.l29y); });
            var line30 = d3.area()
                .curve(d3.curveBasis)
                .x1(function(d) { return x(d.l30x); })
                .x0(function(d) { return x(d.l29x); })
                .y(function(d) { return y(d.l30y); });

            // append the svg object to the body of the page
            // appends a 'group' element to 'svg'
            // moves the 'group' element to the top left margin
            var svg = d3.select("body").append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");

            // Add the 20 lines
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line1)
                .attr("stroke", "black")
                .attr("fill", "#8dd3c7");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line2)
                .attr("stroke", "black")
                .attr("fill", "#8dd3c7");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line3)
                .attr("stroke", "black")
                .attr("fill", "#ffffb3");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line4)
                .attr("stroke", "black")
                .attr("fill", "#ffffb3");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line5)
                .attr("stroke", "black")
                .attr("fill", "#bebada");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line6)
                .attr("stroke", "black")
                .attr("fill", "#bebada");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line7)
                .attr("stroke", "black")
                .attr("fill", "#fb8072");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line8)
                .attr("stroke", "black")
                .attr("fill", "#fb8072");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line9)
                .attr("stroke", "black")
                .attr("fill", "#80b1d3");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line10)
                .attr("stroke", "black")
                .attr("fill", "#80b1d3");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line11)
                .attr("stroke", "black")
                .attr("fill", "#fdb462");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line12)
                .attr("stroke", "black")
                .attr("fill", "#fdb462");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line13)
                .attr("stroke", "black")
                .attr("fill", "#b3de69");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line14)
                .attr("stroke", "black")
                .attr("fill", "#b3de69");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line15)
                .attr("stroke", "black")
                .attr("fill", "#fccde5");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line16)
                .attr("stroke", "black")
                .attr("fill", "#fccde5");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line17)
                .attr("stroke", "black")
                .attr("fill", "#d9d9d9");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line18)
                .attr("stroke", "black")
                .attr("fill", "#d9d9d9");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line19)
                .attr("stroke", "black")
                .attr("fill", "#bc80bd");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line20)
                .attr("stroke", "black")
                .attr("fill", "#bc80bd");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line21)
                .attr("stroke", "black")
                .attr("fill", "#8dd3c7");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line22)
                .attr("stroke", "black")
                .attr("fill", "#8dd3c7");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line23)
                .attr("stroke", "black")
                .attr("fill", "#ffffb3");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line24)
                .attr("stroke", "black")
                .attr("fill", "#ffffb3");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line25)
                .attr("stroke", "black")
                .attr("fill", "#bebada");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line26)
                .attr("stroke", "black")
                .attr("fill", "#bebada");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line27)
                .attr("stroke", "black")
                .attr("fill", "#fb8072");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line28)
                .attr("stroke", "black")
                .attr("fill", "#fb8072");

            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line29)
                .attr("stroke", "black")
                .attr("fill", "#80b1d3");
            svg.append("path")
                .data([dataset])
                .attr("class", "line")
                .attr("d", line30)
                .attr("stroke", "black")
                .attr("fill", "#80b1d3");

          //["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd"]

            var lines = svg.append('g')
                .selectAll("line")
                .data(dataset)
                .enter()
                .append("line")
                .attr("x1", 0)
                .attr("y1", function(d){
                    console.log(d.l1y)
                    return y(d.l1y)
                })
                .attr("x2", function(d){
                    return x(d.l30x)
                })
                .attr("y2", function(d){
                    return y(d.l1y)
                })
                .attr("stroke", "black")
                .style("opacity", 0.50)

		}

    </script>
</html>